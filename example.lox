var previous;

while (true) {
  var take = previous;
  fun foo() {
    take();
  }
  previous = foo;
}